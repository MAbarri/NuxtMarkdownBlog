import{d as e}from"../../runtime.mjs";const t=e((async e=>{const{cloudflare:t}=e.context;if(!t||!t.env||!t.env.DB)return new Response(t,{status:500});const a=t.env.DB;try{await a.exec(" CREATE TABLE IF NOT EXISTS blog_articles ( id INTEGER PRIMARY KEY AUTOINCREMENT, title TEXT NOT NULL, content TEXT NOT NULL, filename TEXT NOT NULL, niche TEXT, tags TEXT, created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP ); ");const{results:e}=await a.prepare('SELECT name FROM sqlite_master WHERE type="table" AND name="blog_articles";').all();return e.length>0?{message:"Migration completed successfully!, Table exists!"}:{error:"Table not found!"}}catch(e){return{error:"Migration failed: "+e.message}}}));export{t as default};
//# sourceMappingURL=migrate.mjs.map
