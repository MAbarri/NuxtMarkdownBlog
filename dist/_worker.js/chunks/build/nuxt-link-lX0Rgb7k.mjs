import{a5 as e,bc as t,b0 as a,b2 as r,bd as l,be as n}from"../runtime.mjs";import{b as u,c as i,r as o,d as s,e as v,g as c}from"./server.mjs";import{d,h as f,H as p,f as h}from"../routes/renderer.mjs";async function preloadRouteComponents(e,t=u()){}function defineNuxtLink(l){const n=l.componentName||"NuxtLink";function resolveTrailingSlashBehavior(e,t){if(!e||"append"!==l.trailingSlash&&"remove"!==l.trailingSlash)return e;if("string"==typeof e)return applyTrailingSlashBehavior(e,l.trailingSlash);const a="path"in e&&void 0!==e.path?e.path:t(e).path;return{...e,name:void 0,path:applyTrailingSlashBehavior(a,l.trailingSlash)}}function useNuxtLink(e){var t,l,n;const i=u(),v=c(),d=h((()=>!!e.target&&"_self"!==e.target)),f=h((()=>{const t=e.to||e.href||"";return"string"==typeof t&&a(t,{acceptRelative:!0})})),g=p("RouterLink"),y=g&&"string"!=typeof g?g.useLink:void 0,m=h((()=>{if(e.external)return!0;const t=e.to||e.href||"";return"object"!=typeof t&&(""===t||f.value)})),x=h((()=>{const t=e.to||e.href||"";return m.value?t:resolveTrailingSlashBehavior(t,i.resolve)})),b=m.value||null==y?void 0:y({...e,to:x}),S=h((()=>{var e,t;if(!x.value||f.value)return x.value;if(m.value){const e="object"==typeof x.value&&"path"in x.value?o(x.value):x.value;return resolveTrailingSlashBehavior("object"==typeof e?i.resolve(e).href:e,i.resolve)}return"object"==typeof x.value?null!=(e=null==(t=i.resolve(x.value))?void 0:t.href)?e:null:resolveTrailingSlashBehavior(r(v.app.baseURL,x.value),i.resolve)}));return{to:x,hasTarget:d,isAbsoluteUrl:f,isExternal:m,href:S,isActive:null!=(t=null==b?void 0:b.isActive)?t:h((()=>x.value===i.currentRoute.value.path)),isExactActive:null!=(l=null==b?void 0:b.isExactActive)?l:h((()=>x.value===i.currentRoute.value.path)),route:null!=(n=null==b?void 0:b.route)?n:h((()=>i.resolve(x.value))),async navigate(){await s(S.value,{replace:e.replace,external:m.value||d.value})}}}return d({name:n,props:{to:{type:[String,Object],default:void 0,required:!1},href:{type:[String,Object],default:void 0,required:!1},target:{type:String,default:void 0,required:!1},rel:{type:String,default:void 0,required:!1},noRel:{type:Boolean,default:void 0,required:!1},prefetch:{type:Boolean,default:void 0,required:!1},prefetchOn:{type:[String,Object],default:void 0,required:!1},noPrefetch:{type:Boolean,default:void 0,required:!1},activeClass:{type:String,default:void 0,required:!1},exactActiveClass:{type:String,default:void 0,required:!1},prefetchedClass:{type:String,default:void 0,required:!1},replace:{type:Boolean,default:void 0,required:!1},ariaCurrentValue:{type:String,default:void 0,required:!1},external:{type:Boolean,default:void 0,required:!1},custom:{type:Boolean,default:void 0,required:!1}},useLink:useNuxtLink,setup(a,{slots:r}){const n=u(),{to:i,href:s,navigate:c,isExternal:d,hasTarget:h,isAbsoluteUrl:g}=useNuxtLink(a),y=e(!1);async function prefetch(e=v()){if(y.value)return;y.value=!0;const t="string"==typeof i.value?i.value:d.value?o(i.value):n.resolve(i.value).fullPath;await Promise.all([e.hooks.callHook("link:prefetch",t).catch((()=>{})),!d.value&&!h.value&&preloadRouteComponents(i.value,n).catch((()=>{}))])}return()=>{var e;if(!d.value&&!h.value){const e={ref:undefined,to:i.value,activeClass:a.activeClass||l.activeClass,exactActiveClass:a.exactActiveClass||l.exactActiveClass,replace:a.replace,ariaCurrentValue:a.ariaCurrentValue,custom:a.custom};return a.custom||(function(e){var t,r,n,u;return!y.value&&("string"==typeof a.prefetchOn?a.prefetchOn===e:null!=(t=null==(n=a.prefetchOn)?void 0:n[e])?t:null==(u=l.prefetchOn)?void 0:u[e])&&!1!==(null!=(r=a.prefetch)?r:l.prefetch)&&!0!==a.noPrefetch&&"_blank"!==a.target&&!0}("interaction")&&(e.onPointerenter=prefetch.bind(null,void 0),e.onFocus=prefetch.bind(null,void 0)),y.value&&(e.class=a.prefetchedClass||l.prefetchedClass),e.rel=a.rel||void 0),f(p("RouterLink"),e,r.default)}const n=a.target||null,u=((...e)=>e.find((e=>void 0!==e)))(a.noRel?"":a.rel,l.externalRelAttribute,g.value||h.value?"noopener noreferrer":"")||null;return a.custom?r.default?r.default({href:s.value,navigate:c,prefetch:prefetch,get route(){if(!s.value)return;const e=new URL(s.value,"http://localhost");return{path:e.pathname,fullPath:e.pathname,get query(){return t(e.search)},hash:e.hash,params:{},name:void 0,matched:[],redirectedFrom:void 0,meta:{},href:s.value}},rel:u,target:n,isExternal:d.value||h.value,isActive:!1,isExactActive:!1}):null:f("a",{ref:undefined,href:s.value||null,rel:u,target:n},null==(e=r.default)?void 0:e.call(r))}}})}const g=defineNuxtLink(i);function applyTrailingSlashBehavior(e,t){const r="append"===t?l:n;return a(e)&&!e.startsWith("http")?e:r(e,!0)}export{g as _};
//# sourceMappingURL=nuxt-link-lX0Rgb7k.mjs.map
