import{bd as t,aw as e,b2 as o,be as n,b0 as r}from"../runtime.mjs";import a from"./ContentRenderer-L7sYpqZL.mjs";import i from"./ContentQuery-Bvdw7yYo.mjs";import{g as s,i as l,u as p}from"./server.mjs";import{u,d,O as m,h as c,a as h}from"../routes/renderer.mjs";import"./ContentRendererMarkdown-Yudc4y1k.mjs";import"./node-04k6j4dz.mjs";import"./preview-wkaBPEZ5.mjs";import"./asyncData-OK3DIDI3.mjs";import"./query-BuxgHUnZ.mjs";const useContentHead=(a,i=l())=>{const u=e(a),d=s();h((()=>e(a)),((e=u)=>{var a;if(!i.path||!e)return;const s=Object.assign({},(null==e?void 0:e.head)||{});s.meta=[...s.meta||[]],s.link=[...s.link||[]];const l=s.title||(null==e?void 0:e.title);l&&(s.title=l,s.meta.some((t=>"og:title"===t.property))||s.meta.push({property:"og:title",content:l}));const m=d.public.content.host;if(m){const e=o(null!=m?m:"/",d.app.baseURL,i.fullPath),r=d.public.content.trailingSlash?t(e):n(e);s.meta.some((t=>"og:url"===t.property))||s.meta.push({property:"og:url",content:r}),s.link.some((t=>"canonical"===t.rel))||s.link.push({rel:"canonical",href:r})}const c=(null==s?void 0:s.description)||(null==e?void 0:e.description);c&&0===s.meta.filter((t=>"description"===t.name)).length&&s.meta.push({name:"description",content:c}),c&&!s.meta.some((t=>"og:description"===t.property))&&s.meta.push({property:"og:description",content:c});const h=(null==s?void 0:s.image)||(null==e?void 0:e.image);if(h&&0===s.meta.filter((t=>"og:image"===t.property)).length&&("string"==typeof h&&s.meta.push({property:"og:image",content:m&&!r(h)?new URL(o(d.app.baseURL,h),m).href:h}),"object"==typeof h)){const t=["src","secure_url","type","width","height","alt"];for(const e of t)if("src"===e&&h.src){const t=r(h.src),e=t?h.src:o(d.app.baseURL,null!=(a=h.src)?a:"/");s.meta.push({property:"og:image",content:m&&!t?new URL(e,m).href:e})}else h[e]&&s.meta.push({property:`og:image:${e}`,content:h[e]})}p(s)}),{immediate:!0})},f=d({name:"ContentDoc",props:{tag:{type:String,required:!1,default:"div"},excerpt:{type:Boolean,default:!1},path:{type:String,required:!1,default:void 0},query:{type:Object,required:!1,default:void 0},head:{type:Boolean,required:!1,default:void 0}},render(e){const{contentHead:o}=s().public.content,n=m(),{tag:r,excerpt:p,path:u,query:d,head:h}=e,f=void 0===h?o:h,y={...d||{},path:u||(null==d?void 0:d.path)||t(l().path),find:"one"};return c(i,y,{default:(null==n?void 0:n.default)?({data:t,refresh:e,isPartial:o})=>{var r;return f&&useContentHead(t),null==(r=n.default)?void 0:r.call(n,{doc:t,refresh:e,isPartial:o,excerpt:p,...this.$attrs})}:({data:t})=>(f&&useContentHead(t),c(a,{value:t,excerpt:p,tag:r,...this.$attrs},{empty:e=>(null==n?void 0:n.empty)?n.empty(e):((t,e)=>c("pre",null,JSON.stringify({message:"You should use slots with <ContentDoc>",slot:t,data:e},null,2)))("default",t)})),empty:t=>{var e;return(null==(e=null==n?void 0:n.empty)?void 0:e.call(n,t))||c("p",null,"Document is empty, overwrite this content with #empty slot in <ContentDoc>.")},"not-found":t=>{var e;return(null==(e=null==n?void 0:n["not-found"])?void 0:e.call(n,t))||c("p",null,"Document not found, overwrite this content with #not-found slot in <ContentDoc>.")}})}}),y=f.setup;f.setup=(t,e)=>{const o=u();return(o.modules||(o.modules=new Set)).add("node_modules/@nuxt/content/dist/runtime/components/ContentDoc.vue"),y?y(t,e):void 0};export{f as default};
//# sourceMappingURL=ContentDoc-B0gkZonM.mjs.map
