import{bD as t,bG as a}from"../runtime.mjs";import{u as e}from"./asyncData-OK3DIDI3.mjs";import{u as n,q as r,w as o,e as i,a as s,s as u,j as m}from"./query-BuxgHUnZ.mjs";import{u as l}from"./preview-wkaBPEZ5.mjs";import{h as p,g as v}from"./server.mjs";import{_ as d}from"./nuxt-link-lX0Rgb7k.mjs";import{u as c,d as f,f as g,O as y,h as j}from"../routes/renderer.mjs";const h=f({name:"ContentNavigation",props:{query:{type:Object,required:!1,default:void 0}},async setup(d){const{query:c}=t(d),f=g((()=>{var t;return"function"==typeof(null==(t=c.value)?void 0:t.params)?c.value.params():c.value}));if(!f.value&&p("dd-navigation").value){const{navigation:t}=n();return{navigation:t}}const{data:y}=await e(`content-navigation-${a(f.value)}`,(()=>(async t=>{const{content:e}=v().public;"function"!=typeof(null==t?void 0:t.params)&&(t=r(t));const n=t.params(),p=e.experimental.stripQueryParameters?o(`/navigation/${a(n)}.${e.integrity}/${i(n)}.json`):o(`/navigation/${a(n)}.${e.integrity}.json`);if(s(p),u())return(await import("./client-db-kc1ht2FJ.mjs").then((t=>t.generateNavigation)))(n);const d=await $fetch(p,{method:"GET",responseType:"json",params:e.experimental.stripQueryParameters?void 0:{_params:m(n),previewToken:l().getPreviewToken()}});if("string"==typeof d&&d.startsWith("<!DOCTYPE html>"))throw new Error("Not found");return d})(f.value)));return{navigation:y}},render(t){const a=y(),{navigation:e}=t,renderLink=t=>j(d,{to:t._path},(()=>t.title)),renderLinks=(t,a)=>j("ul",a?{"data-level":a}:null,t.map((t=>t.children?j("li",null,[renderLink(t),renderLinks(t.children,a+1)]):j("li",null,renderLink(t)))));return(null==a?void 0:a.default)?a.default({navigation:e,...this.$attrs}):renderLinks(e,0)}}),w=h.setup;h.setup=(t,a)=>{const e=c();return(e.modules||(e.modules=new Set)).add("node_modules/@nuxt/content/dist/runtime/components/ContentNavigation.vue"),w?w(t,a):void 0};export{h as default};
//# sourceMappingURL=ContentNavigation-238iDugc.mjs.map
