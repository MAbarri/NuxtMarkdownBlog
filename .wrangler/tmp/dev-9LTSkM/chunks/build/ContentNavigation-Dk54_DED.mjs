import{bE as t,bi as e}from"../runtime.mjs";import{a,u as n,q as r,w as i,e as o,b as s,s as u,j as l}from"./query-BgbUqyt0.mjs";import{u as m}from"./preview-wkaBPEZ5.mjs";import{h as p,g as v}from"./server.mjs";import{_ as d}from"./nuxt-link-lX0Rgb7k.mjs";import{u as c,d as f,f as g,O as y,h as j}from"../routes/renderer.mjs";const h=f({name:"ContentNavigation",props:{query:{type:Object,required:!1,default:void 0}},async setup(d){const{query:c}=t(d),f=g((()=>{var t;return"function"==typeof(null==(t=c.value)?void 0:t.params)?c.value.params():c.value}));if(!f.value&&p("dd-navigation").value){const{navigation:t}=a();return{navigation:t}}const{data:y}=await n(`content-navigation-${e(f.value)}`,(()=>(async t=>{const{content:a}=v().public;"function"!=typeof(null==t?void 0:t.params)&&(t=r(t));const n=t.params(),p=a.experimental.stripQueryParameters?i(`/navigation/${e(n)}.${a.integrity}/${o(n)}.json`):i(`/navigation/${e(n)}.${a.integrity}.json`);if(s(p),u())return(await import("./client-db-aqHWZo_4.mjs").then((t=>t.generateNavigation)))(n);const d=await $fetch(p,{method:"GET",responseType:"json",params:a.experimental.stripQueryParameters?void 0:{_params:l(n),previewToken:m().getPreviewToken()}});if("string"==typeof d&&d.startsWith("<!DOCTYPE html>"))throw new Error("Not found");return d})(f.value)));return{navigation:y}},render(t){const e=y(),{navigation:a}=t,renderLink=t=>j(d,{to:t._path},(()=>t.title)),renderLinks=(t,e)=>j("ul",e?{"data-level":e}:null,t.map((t=>t.children?j("li",null,[renderLink(t),renderLinks(t.children,e+1)]):j("li",null,renderLink(t)))));return(null==e?void 0:e.default)?e.default({navigation:a,...this.$attrs}):renderLinks(a,0)}}),w=h.setup;h.setup=(t,e)=>{const a=c();return(a.modules||(a.modules=new Set)).add("node_modules/@nuxt/content/dist/runtime/components/ContentNavigation.vue"),w?w(t,e):void 0};export{h as default};
//# sourceMappingURL=ContentNavigation-Dk54_DED.mjs.map
